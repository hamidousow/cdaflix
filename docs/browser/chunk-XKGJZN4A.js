import{a as u,b as rt}from"./chunk-4TINCANC.js";import{b as Ce,c as ot,h as de}from"./chunk-DRVLGHJP.js";import{$ as l,$a as h,A as Ge,Aa as ee,B as ne,Da as Je,Ea as ye,F as X,Fb as st,Ga as f,H as Le,Ha as se,Hb as le,Ka as oe,La as $,M as $e,Ma as j,Mb as ce,O as je,P as b,Q as B,Qa as Xe,R as Ue,Ra as re,S as fe,Sa as we,Ta as ae,U as ze,Ub as W,V as y,W as q,Xa as H,Ya as N,Z as We,Za as F,_a as c,a as R,ab as S,b as te,ba as M,bb as De,c as ie,ca as K,da as _e,db as U,ea as Ye,eb as z,f as Be,fa as ge,fb as qe,ga as me,gb as Ke,ha as ve,hb as O,i as T,ib as Te,j as v,jb as _,k as Ve,kb as Se,lb as I,m as J,oa as be,pb as E,q as m,qa as Qe,ra as Z,rb as Oe,s as pe,tb as Ze,ub as et,vb as tt,wb as it,x as w,y as He,ya as V,yb as nt,z as A}from"./chunk-YEQ72UKM.js";function D(t,e){let o=!e?.manualCleanup;o&&!e?.injector&&Qe(D);let i=o?e?.injector?.get(oe)??l(oe):null,n;e?.requireSync?n=ye({kind:0}):n=ye({kind:1,value:e?.initialValue});let s=t.subscribe({next:r=>n.set({kind:1,value:r}),error:r=>{if(e?.rejectErrors)throw r;n.set({kind:2,error:r})}});return i?.onDestroy(s.unsubscribe.bind(s)),Je(()=>{let r=n();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new ze(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var k=(()=>{let e=class e{constructor(){this.http=l(ot),this._popularMovies=new v(null),this.popularMovies$=this._popularMovies.asObservable(),this._topRatedMovies=new v(null),this.topRatedMovies$=this._topRatedMovies.asObservable(),this._upcomingMovies=new v(null),this.upcomingMovies$=this._upcomingMovies.asObservable(),this._nowPlayingMovies=new v(null),this.nowPlayingMovies$=D(this._nowPlayingMovies.asObservable(),{requireSync:!0}),this._moviesSuggestions=new v(null),this.moviesSuggestions$=D(this._moviesSuggestions.asObservable(),{requireSync:!0}),this._movieDetails=new v(null),this.movieDetails$=D(this._movieDetails.asObservable(),{requireSync:!0}),this._movieProviders=new v(null),this.movieProviders$=D(this._movieProviders.asObservable(),{initialValue:null}),this._currentResults$=new v(null),this.searchResults=D(this._currentResults$,{requireSync:!0}),this._previousResults$=new v(null),this.nextPageResults=D(this._previousResults$,{requireSync:!0}),this._totalResults$=new v(0),this.totalResults=D(this._totalResults$,{requireSync:!0}),this._currentPage$=new v(1),this.currentPage=D(this._currentPage$,{requireSync:!0}),this._totalPages$=new v(0),this.totalPages=D(this._totalPages$,{requireSync:!0}),this.resultsSearch=[]}findById(i){return ie(this,null,function*(){return yield fetch(`${u.baseUrl}/movie/${i}`,u.options).then(s=>s.json()).then(s=>s).catch(s=>console.log(s))})}getNowPlayingMovies(){this.http.get(`${u.baseUrl}/movie/now_playing`,u.options).pipe(m(i=>{this._nowPlayingMovies.next(i.results)})).subscribe()}getPopularMovies(){this.http.get(`${u.baseUrl}/movie/popular`,u.options).pipe(m(i=>{this._popularMovies.next(i.results)})).subscribe()}getTopRatedMovies(){this.http.get(`${u.baseUrl}/movie/top_rated`,u.options).pipe(m(i=>{this._topRatedMovies.next(i.results)})).subscribe()}getUpcomingMovies(){this.http.get(`${u.baseUrl}/movie/upcoming`,u.options).pipe(m(i=>{this._upcomingMovies.next(i.results)})).subscribe()}getMovieProviders(i){let n="CA";this.http.get(`${u.baseUrl}/movie/${i}/watch/providers`,u.options).pipe(m(s=>[...{*[Symbol.iterator](){yield s.results}}]),B(s=>{Object.keys(s[0]).map(r=>{if(r==n){let a={*[Symbol.iterator](){yield s[0][r]}};this._movieProviders.next([...a])}})})).subscribe()}search(i,n){i=i.trim();let s=i?R({params:new Ce().set("query",i).set("page",n||"")},u.options):{};this.http.get(`${u.baseUrl}/search/movie`,s).pipe(m(r=>{this._currentPage$.next(r.page),this._totalPages$.next(r.total_pages),this._currentResults$.next(r.results),this._totalResults$.next(r.total_results)})).subscribe()}searchMovie(i,n){i=i.trim();let s=i?R({params:new Ce().set("query",i).set("page",n||"")},u.options):{};this.http.get(`${u.baseUrl}/search/movie`,s).pipe(m(r=>(this._currentPage$.next(r.page),this._totalPages$.next(r.total_pages),this._currentResults$.next(r.results),r)),$e((r,a)=>[...r,...a.results])).subscribe(r=>console.log(r))}loadNextPage(i){this.currentPage()<this.totalPages()&&(this._currentPage$.next(this.currentPage()+1),this.searchMovie(i,this.currentPage()))}getMovieSuggestions(i){this.http.get(`https://api.themoviedb.org/3/movie/${i}/recommendations`,u.options).pipe(m(n=>{let s={*[Symbol.iterator](){yield n.results}};this._moviesSuggestions.next([...s][0])})).subscribe()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var St=["*"];var Ot=["dialog"];var at={animation:!0,transitionTimerDelayMs:5},lt=(()=>{let e=class e{constructor(){this.animation=at.animation}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ct(t){let{transitionDelay:e,transitionDuration:o}=window.getComputedStyle(t),i=parseFloat(e),n=parseFloat(o);return(i+n)*1e3}function ct(t){return typeof t=="string"}function Me(t){return t!=null}function Mt(t){return t&&t.then}function dt(t){return(t||document.body).getBoundingClientRect()}function Et(t){return e=>new Be(o=>{let i=r=>t.run(()=>o.next(r)),n=r=>t.run(()=>o.error(r)),s=()=>t.run(()=>o.complete());return e.subscribe({next:i,error:n,complete:s})})}var Rt=()=>{},{transitionTimerDelayMs:Nt}=at,he=new Map,L=(t,e,o,i)=>{let n=i.context||{},s=he.get(e);if(s)switch(i.runningTransition){case"continue":return Ve;case"stop":t.run(()=>s.transition$.complete()),n=Object.assign(s.context,n),he.delete(e)}let r=o(e,i.animation,n)||Rt;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>r()),J(void 0).pipe(Et(t));let a=new T,p=new T,d=a.pipe(Le(!0));he.set(e,{transition$:a,complete:()=>{p.next(),p.complete()},context:n});let g=Ct(e);return t.runOutsideAngular(()=>{let x=w(e,"transitionend").pipe(b(d),A(({target:P})=>P===e)),C=He(g+Nt).pipe(b(d));Ge(C,x,p).pipe(b(d)).subscribe(()=>{he.delete(e),t.run(()=>{r(),a.next(),a.complete()})})}),a.asObservable()};var An=(()=>{let e=class e{constructor(){this._ngbConfig=l(lt),this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=K({type:e}),e.\u0275inj=q({});let t=e;return t})();var Ne=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Ne||{});var Vn=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var Ft=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ht(t){let e=Array.from(t.querySelectorAll(Ft)).filter(o=>o.tabIndex!==-1);return[e[0],e[e.length-1]]}var It=(t,e,o,i=!1)=>{t.runOutsideAngular(()=>{let n=w(e,"focusin").pipe(b(o),m(s=>s.target));w(e,"keydown").pipe(b(o),A(s=>s.which===Ne.Tab),fe(n)).subscribe(([s,r])=>{let[a,p]=ht(e);(r===a||r===e)&&s.shiftKey&&(p.focus(),s.preventDefault()),r===p&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&w(e,"click").pipe(b(o),fe(n),m(s=>s[1])).subscribe(s=>s.focus())})};var Hn=new Date(1882,10,12),Gn=new Date(2174,10,25);var Ln=1e3*60*60*24;var Fe=1080,kt=24*Fe,xt=12*Fe+793,$n=29*kt+xt,jn=11*Fe+204;var Pt=(()=>{let e=class e{constructor(){this._ngbConfig=l(lt),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y=class{constructor(e,o,i){this.nodes=e,this.viewRef=o,this.componentRef=i}};var At=(()=>{let e=class e{constructor(){this._document=l(ce)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,s=n.style,{overflow:r,paddingRight:a}=s;if(i>0){let p=parseFloat(window.getComputedStyle(n).paddingRight);s.paddingRight=`${p+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=r}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bt=(()=>{let e=class e{constructor(){this._nativeElement=l(ee).nativeElement,this._zone=l(j)}ngOnInit(){this._zone.onStable.asObservable().pipe(X(1)).subscribe(()=>{L(this._zone,this._nativeElement,(i,n)=>{n&&dt(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return L(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,s){n&2&&(ae("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),we("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[E],decls:0,vars:0,template:function(n,s){},encapsulation:2});let t=e;return t})(),ue=class{update(e){}close(e){}dismiss(e){}},Vt=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ht=["animation","backdropClass"],Ee=class{_applyWindowOptions(e,o){Vt.forEach(i=>{Me(o[i])&&(e[i]=o[i])})}_applyBackdropOptions(e,o){Ht.forEach(i=>{Me(o[i])&&(e[i]=o[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(b(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(b(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,o,i,n){this._windowCmptRef=e,this._contentRef=o,this._backdropCmptRef=i,this._beforeDismiss=n,this._closed=new T,this._dismissed=new T,this._hidden=new T,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,r)=>{this._resolve=s,this._reject=r}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let o=this._beforeDismiss();Mt(o)?o.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):o!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():J(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ne(e,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Re=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Re||{}),Gt=(()=>{let e=class e{constructor(){this._document=l(ce),this._elRef=l(ee),this._zone=l(j),this._closed$=new T,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new $,this.shown=new T,this.hidden=new T}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":ct(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(X(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,n={animation:this.animation,runningTransition:"stop"},s=L(this._zone,i,()=>i.classList.remove("show"),n),r=L(this._zone,this._dialogEl.nativeElement,()=>{},n),a=ne(s,r);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},n=L(this._zone,this._elRef.nativeElement,(r,a)=>{a&&dt(r),r.classList.add("show")},i),s=L(this._zone,this._dialogEl.nativeElement,()=>{},i);ne(n,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{w(i,"keydown").pipe(b(this._closed$),A(s=>s.which===Ne.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(Re.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let n=!1;w(this._dialogEl.nativeElement,"mousedown").pipe(b(this._closed$),B(()=>n=!1),je(()=>w(i,"mouseup").pipe(b(this._closed$),X(1))),A(({target:s})=>i===s)).subscribe(()=>{n=!0}),w(i,"click").pipe(b(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!n&&this._zone.run(()=>this.dismiss(Re.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let n=i.querySelector("[ngbAutofocus]"),s=ht(i)[0];(n||s||i).focus()}}_restoreFocus(){let i=this._document.body,n=this._elWithFocus,s;n&&n.focus&&i.contains(n)?s=n:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&L(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,s){if(n&1&&it(Ot,7),n&2){let r;tt(r=nt())&&(s._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,s){n&2&&(Xe("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),ae("modal d-block"+(s.windowClass?" "+s.windowClass:"")),we("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[E],ngContentSelectors:St,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,s){n&1&&(qe(),c(0,"div",0,1)(2,"div",2),Ke(3),h()()),n&2&&ae("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),Lt=(()=>{let e=class e{constructor(){this._applicationRef=l(st),this._injector=l(Z),this._environmentInjector=l(be),this._document=l(ce),this._scrollBar=l(At),this._activeWindowCmptHasChanged=new T,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new $;let i=l(j);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let n=this._windowCmpts[this._windowCmpts.length-1];It(i,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,n,s){let r=s.container instanceof HTMLElement?s.container:Me(s.container)?this._document.querySelector(s.container):this._document.body;if(!r)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new ue;i=s.injector||i;let p=i.get(be,null)||this._environmentInjector,d=this._getContentRef(i,p,n,a,s),g=s.backdrop!==!1?this._attachBackdrop(r):void 0,x=this._attachWindowComponent(r,d.nodes),C=new Ee(x,d,g,s.beforeDismiss);return this._registerModalRef(C),this._registerWindowCmpt(x),C.hidden.pipe(X(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=P=>{C.close(P)},a.dismiss=P=>{C.dismiss(P)},a.update=P=>{C.update(P)},C.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),g&&g.instance&&g.changeDetectorRef.detectChanges(),x.changeDetectorRef.detectChanges(),C}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(n=>n.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let n=le(Bt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),i.appendChild(n.location.nativeElement),n}_attachWindowComponent(i,n){let s=le(Gt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,n,s,r,a){return s?s instanceof et?this._createFromTemplateRef(s,r):ct(s)?this._createFromString(s):this._createFromComponent(i,n,s,r,a):new Y([])}_createFromTemplateRef(i,n){let s={$implicit:n,close(a){n.close(a)},dismiss(a){n.dismiss(a)}},r=i.createEmbeddedView(s);return this._applicationRef.attachView(r),new Y([r.rootNodes],r)}_createFromString(i){let n=this._document.createTextNode(`${i}`);return new Y([[n]])}_createFromComponent(i,n,s,r,a){let p=Z.create({providers:[{provide:ue,useValue:r}],parent:i}),d=le(s,{environmentInjector:n,elementInjector:p}),g=d.location.nativeElement;return a.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new Y([[g]],d.hostView,d)}_setAriaHidden(i){let n=i.parentElement;n&&i!==this._document.body&&(Array.from(n.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,n)=>{i?n.setAttribute("aria-hidden",i):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let n=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(n,n)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let n=this._windowCmpts.indexOf(i);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q=(()=>{let e=class e{constructor(){this._injector=l(Z),this._modalStack=l(Lt),this._config=l(Pt)}open(i,n={}){let s=R(te(R({},this._config),{animation:this._config.animation}),n);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ut=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=K({type:e}),e.\u0275inj=q({});let t=e;return t})();var Un=new We("live announcer delay",{providedIn:"root",factory:()=>100});var pt=(()=>{let e=class e{transform(i,...n){return i.toFixed(1)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Ye({name:"noteFormat",type:e,pure:!0,standalone:!0});let t=e;return t})();var ft=(()=>{let e=class e{constructor(){this.tmdbServicce=l(k),this.localService=l(rt),this.modalService=l(Q),this.imageBaseurl=u.imageBaseUrl}handleFavorite(i){i.stopPropagation()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["app-card"]],inputs:{movie:"movie"},standalone:!0,features:[E],decls:10,vars:7,consts:[[1,"card",3,"id"],[1,"card_header"],["alt","",3,"src"],[1,"card_header--vote-average"],[1,"card_body","d-flex","flex-column","flex-1","mt-2"],[1,"card_body--title"]],template:function(n,s){n&1&&(c(0,"div",0)(1,"div",1),S(2,"img",2),c(3,"div",3)(4,"p"),_(5),Oe(6,"noteFormat"),h()()(),c(7,"div",4)(8,"h2",5),_(9),h()()()),n&2&&(O("id",s.movie.id),f(2),O("src",s.imageBaseurl+s.movie.poster_path,V),f(3),I(" ",Ze(6,4,s.movie.vote_average,1)," "),f(4),I(" ",s.movie.title," "))},dependencies:[W,pt],styles:["@media screen and (min-width: 320px){.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:10px;overflow:hidden;background-color:var(--clr-blue-night);height:100%;width:100%;min-width:6rem;max-width:12rem;box-shadow:0 0 5px #00000040;position:relative}.card_header[_ngcontent-%COMP%]{flex:2 126px;border-radius:10px;position:relative}.card_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}.card_header--vote-average[_ngcontent-%COMP%]{height:100%;width:100%;max-height:25px;max-width:25px;border-radius:50%;border:2px solid var(--clr-blue-light);background:var(--clr-blue-night);display:flex;justify-content:center;align-items:center;position:absolute;bottom:-7px;right:15px}.card_header--vote-average[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(8px,1vw,11px)}.card_body[_ngcontent-%COMP%]{flex:1;padding:7px;color:var(--clr-white-light)}.card_body--title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px;font-size:12px}}@media screen and (min-width: 992px){.card[_ngcontent-%COMP%]{transition:.5s}.card[_ngcontent-%COMP%]:hover{transition-delay:.8s;transform:scale(1.05);z-index:10}}"]});let t=e;return t})();function $t(t,e,o,i){let n=window&&!!window.document&&window.document.documentElement,s=n&&e?window:o;if(t&&(s=t&&n&&typeof t=="string"?jt(t,o.nativeElement,i):t,!s))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return s}function jt(t,e,o){return(o?window.document:e).querySelector(t)}function Ie(t){return t&&!t.firstChange}function Ut(){return typeof window<"u"}var zt={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},Wt={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},ke=class{constructor(e=!0){this.vertical=e,this.propsMap=e?zt:Wt}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function Yt(t,e,o){return!!(t&&e||!o&&e)}function Qt({windowElement:t,axis:e}){return Jt({axis:e,isWindow:Xt(t)},t)}function Jt(t,e){let o=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return te(R({},t),{container:o})}function Xt(t){return["Window","global"].some(o=>Object.prototype.toString.call(t).includes(o))}function Ae(t,e){return t?e.document.documentElement:null}function _t(t,e){let o=Zt(e);return e.isWindow?qt(o,t,e):Kt(o,t,e)}function qt(t,e,o){let{axis:i,container:n,isWindow:s}=o,{offsetHeightKey:r,clientHeightKey:a}=gt(i),p=t+vt(Ae(s,n),i,s),d=mt(e.nativeElement,s,r,a),g=ei(e.nativeElement,i,s)+d;return{height:t,scrolled:p,totalToScroll:g,isWindow:s}}function Kt(t,e,o){let{axis:i,container:n}=o,s=n[i.scrollTopKey()],r=n[i.scrollHeightKey()];return{height:t,scrolled:s,totalToScroll:r,isWindow:!1}}function gt(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function Zt({container:t,isWindow:e,axis:o}){let{offsetHeightKey:i,clientHeightKey:n}=gt(o);return mt(t,e,i,n)}function mt(t,e,o,i){if(isNaN(t[o])){let n=Ae(e,t);return n?n[i]:0}else return t[o]}function ei(t,e,o){let i=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+vt(t,e,o)}function vt(t,e,o){let i=e.pageYOffsetKey(),n=e.scrollTopKey(),s=e.offsetTopKey();return isNaN(window.pageYOffset)?Ae(o,t)[n]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[s]}function ti(t,e={down:0,up:0},o){let i,n;if(t.totalToScroll<=0)return!1;let s=t.isWindow?t.scrolled:t.height+t.scrolled;if(o)i=(t.totalToScroll-s)/t.totalToScroll,n=(e?.down?e.down:0)/10;else{let a=t.scrolled+(t.totalToScroll-s);i=t.scrolled/a,n=(e?.up?e.up:0)/10}return i<=n}function ii(t,e){return t<e.scrolled}function ni(t,e,o){let i=ii(t,e);return{fire:ti(e,o,i),scrollDown:i}}var xe=class{constructor(e){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,e)}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,o){this.updateScrollPosition(e),this.updateTotalToScroll(o)}updateTriggeredFlag(e,o){o?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,o){return o?this.triggered.down===e:this.triggered.up===e}};function si(t){let{scrollContainer:e,scrollWindow:o,element:i,fromRoot:n}=t,s=Qt({axis:new ke(!t.horizontal),windowElement:$t(e,o,i,n)}),r=new xe({totalToScroll:_t(i,s).totalToScroll}),a={container:s.container,throttle:t.throttle},p={up:t.upDistance,down:t.downDistance};return oi(a).pipe(pe(()=>J(_t(i,s))),m(d=>ri(r.lastScrollPosition,d,p)),B(({stats:d})=>r.updateScroll(d.scrolled,d.totalToScroll)),A(({fire:d,scrollDown:g,stats:{totalToScroll:x}})=>Yt(t.alwaysCallback,d,r.isTriggeredScroll(x,g))),B(({scrollDown:d,stats:{totalToScroll:g}})=>{r.updateTriggeredFlag(g,d)}),m(ai))}function oi(t){let e=w(t.container,"scroll");return t.throttle&&(e=e.pipe(Ue(t.throttle,void 0,{leading:!0,trailing:!0}))),e}function ri(t,e,o){let{scrollDown:i,fire:n}=ni(t,e,o);return{scrollDown:i,fire:n,stats:e}}var Pe={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function ai(t){let{scrollDown:e,stats:{scrolled:o}}=t;return{type:e?Pe.DOWN:Pe.UP,payload:{currentScrollPosition:o}}}var bt=(()=>{let e=class e{constructor(i,n){this.element=i,this.zone=n,this.scrolled=new $,this.scrolledUp=new $,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:i,infiniteScrollDisabled:n,infiniteScrollDistance:s}){let r=Ie(i),a=Ie(n),p=Ie(s),d=!a&&!this.infiniteScrollDisabled||a&&!n.currentValue||p;(r||a||p)&&(this.destroyScroller(),d&&this.setup())}setup(){Ut()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=si({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(i=>this.handleOnScroll(i))})}handleOnScroll({type:i,payload:n}){let s=i===Pe.DOWN?this.scrolled:this.scrolledUp;li(s)&&this.zone.run(()=>s.emit(n))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(se(ee),se(j))},e.\u0275dir=_e({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[ge]});let t=e;return t})();function li(t){return t.observed??t.observers.length>0}var yt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=K({type:e}),e.\u0275inj=q({});let t=e;return t})();function di(t,e){if(t&1&&S(0,"img",19),t&2){let o=e.$implicit,i=z(2);O("src",i.imageBaseurl+o.logo_path,V),O("alt",o.provider_name)}}function hi(t,e){if(t&1&&S(0,"img",19),t&2){let o=e.$implicit,i=z(2);O("src",i.imageBaseurl+o.logo_path,V),O("alt",o.provider_name)}}function ui(t,e){if(t&1&&(c(0,"div"),_(1," lien : "),c(2,"a",16),_(3,"lien"),h()(),c(4,"div",17)(5,"h3"),_(6,"En vente"),h(),c(7,"div",18),N(8,di,1,2,"img",19,H),h()(),c(10,"div",17)(11,"h3"),_(12,"En location"),h(),c(13,"div",18),N(14,hi,1,2,"img",19,H),h()()),t&2){let o=e.$implicit;f(2),O("href",o.link,V),f(6),F(o.buy),f(6),F(o.rent)}}function pi(t,e){}var wt=(()=>{let e=class e{constructor(){this.movieService=l(k),this.route=l(de),this.modalService=l(Q),this.imageBaseurl=u.imageBaseUrl,this.movieProviders=this.movieService.movieProviders$,this.moviesSuggestions=this.movieService.moviesSuggestions$,this.languageSelected="CA"}closeModal(){this.modalService.dismissAll()}ngOnInit(){let i=this.movie?.id;i!=null&&(this.movieService.getMovieProviders(i),this.movieService.getMovieSuggestions(i))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["app-movie-modal"]],standalone:!0,features:[E],decls:31,vars:5,consts:[[1,"modal_"],[1,"modal_btn-close",3,"click"],[1,"bi","bi-x"],[1,"modal_movie"],[1,"modal_movie_content"],[1,"modal_movie_poster"],["alt","",3,"src"],[1,"modal_movie_details"],[1,"modal_movie_details_left","movie-description"],[1,"modal_movie_details_left--title"],[1,"modal_movie_details_left--description"],[1,"modal_movie_details_right"],[1,"movie-language"],[1,"movie-release_date"],[1,"providers"],[1,"movies-suggestion"],[3,"href"],[1,"d-flex","flex-column"],[1,"d-flex","flex-row","gap-2"],["width","35",3,"src","alt"]],template:function(n,s){n&1&&(c(0,"div",0)(1,"div",1),U("click",function(){return s.closeModal()}),S(2,"i",2),h(),c(3,"div",3)(4,"div",4)(5,"div",5),S(6,"img",6),h(),c(7,"div",7)(8,"section",8)(9,"h1",9),_(10),h(),c(11,"p",10),_(12),h()(),c(13,"section",11)(14,"p",12),_(15,"Langue : "),S(16,"br"),_(17),h(),c(18,"p",13),_(19,"Date de sortie : "),S(20,"br"),_(21),h()(),c(22,"section",14),N(23,ui,16,1,null,null,H),h(),c(25,"section",15)(26,"h2"),_(27,"Films similaires"),h(),c(28,"div"),N(29,pi,0,0,null,null,H),h()()()()()()),n&2&&(f(6),O("src",s.movie?s.imageBaseurl+s.movie.poster_path:"",V),f(4),Se(s.movie?s.movie.original_title:""),f(2),I(" ",s.movie?s.movie.overview:""," "),f(5),I(" ",s.movie?s.movie.original_language:"",""),f(4),I(" ",s.movie?s.movie.release_date:"",""),f(2),F(s.movieProviders()),f(6),F(s.moviesSuggestions()))},dependencies:[W],styles:["*[_ngcontent-%COMP%]{color:var(--clr-grey-light)}.modal_[_ngcontent-%COMP%]{background-color:var(--clr-blue-night)}@media screen and (min-width: 320px){h1[_ngcontent-%COMP%]{font-size:var(--large-font-size)}p[_ngcontent-%COMP%]{font-size:var(--normal-font-size)}section[_ngcontent-%COMP%]{margin-bottom:1em}.modal_movie_content[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr auto;padding:25px;row-gap:2em}.modal_movie_poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;max-height:250px;max-width:150px;display:block;margin:auto;object-fit:cover}.modal_movie_details_left--title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:1em}.modal_movie_details_left--description[_ngcontent-%COMP%]{line-height:120%;font-weight:500;margin-bottom:1em}.modal_movie_details_right[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:1em}}"]});let t=e;return t})();var Dt=(()=>{let e=class e{constructor(){this.ngbModal=l(Q),this.movieService=l(k)}openModal(i){return ie(this,null,function*(){this.movieService.findById(i);let n=this.ngbModal.open(wt,{size:"xl"});n.componentInstance.movie=yield this.movieService.findById(i)})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fi(t,e){if(t&1){let o=De();c(0,"app-card",2,3),U("click",function(){me(o);let n=Te(1),s=z();return ve(s.openModal(n.movie.id))}),h()}if(t&2){let o=e.$implicit;re("movie",o)}}var Hs=(()=>{let e=class e{constructor(){this.movieService=l(k),this.route=l(de),this.modalService=l(Dt),this.searchResults=this.movieService.searchResults,this.totalPages=this.movieService.totalPages(),this.currentPage=this.movieService.currentPage(),this.totalResults=this.movieService.totalResults()}onScrollDown(){let i=this.route.snapshot.queryParams.query;this.movieService.loadNextPage(i)}openModal(i){this.modalService.openModal(i)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["app-search-movies-view"]],standalone:!0,features:[E],decls:4,vars:2,consts:[["id","search-results"],["infiniteScroll","",1,"container-cards",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"movie","click"],["card",""],[3,"movie"]],template:function(n,s){n&1&&(c(0,"section",0)(1,"div",1),U("scrolled",function(){return s.onScrollDown()}),N(2,fi,2,1,"app-card",4,H),h()()),n&2&&(f(1),re("infiniteScrollDistance",2)("infiniteScrollThrottle",50),f(1),F(s.searchResults()))},dependencies:[W,ft,ut,yt,bt],styles:["#search-results[_ngcontent-%COMP%]{min-height:100dvh}@media screen and (min-width: 320px){.container-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}}@media screen and (min-width: 575px){.container-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);padding:60px 0}}@media screen and (min-width: 992px){.container-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);padding:60px 0}}"]});let t=e;return t})();export{k as a,An as b,Bn as c,ft as d,Dt as e,Hs as f};
